{"openapi":"3.0.1","info":{"title":"Covver External API docs","description":"Covver External API docs","version":"0.1.0"},"components":{"securitySchemes":{"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{}},"paths":{"/api/ext/v1/oauth/tokens":{"post":{"summary":"Create OAuth Tokens","tags":["Auth"],"description":"Create an access token and a refresh token","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"grantType":{"type":"string","enum":["clientCredentials"]},"clientId":{"type":"string"},"clientSecret":{"type":"string"}},"required":["grantType","clientId","clientSecret"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"expiresIn":{"type":"number"}},"required":["accessToken","refreshToken","expiresIn"]}}}},"4XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}},"5XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}}}}},"/api/ext/v1/oauth/refresh-token":{"post":{"summary":"Refresh the access token","tags":["Auth"],"description":"Uses a refresh token to create an access token","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"grantType":{"type":"string","enum":["refreshToken"]},"refreshToken":{"type":"string"}},"required":["grantType","refreshToken"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"expiresIn":{"type":"number"}},"required":["accessToken","refreshToken","expiresIn"]}}}},"4XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}},"5XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}}}}},"/api/ext/v1/collections":{"get":{"summary":"List Collections","tags":["Products"],"description":"List all account collections","responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"slug":{"type":"string"},"description":{"type":"string"}},"required":["id","title","slug"]}}}}},"4XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}},"5XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}}}}},"/api/ext/v1/collection/{collectionId}/products":{"get":{"summary":"List a Collection Products","tags":["Products"],"description":"List a collection products by collection ID","parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"collectionId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"priceRange":{"type":"object","properties":{"minVariantPrice":{"type":"number"},"maxVariantPrice":{"type":"number"}},"required":["minVariantPrice","maxVariantPrice"]},"options":{"type":"array","items":{"type":"object","properties":{"name":{"enum":["size","color"]},"values":{"type":"array","items":{"type":"object","properties":{"title":{"type":"string"},"colorCode":{"type":"string"},"colorCode2":{"type":"string"}},"required":["title"]}}},"required":["name","values"]}},"featuredImage":{"type":"object","properties":{"url":{"type":"string"},"width":{"type":"number"},"height":{"type":"number"}},"required":["url"]}},"required":["id","title","description","priceRange","options","featuredImage"]}},"count":{"type":"number"}},"required":["data","count"]}}}},"4XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}},"5XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}}}}},"/api/ext/v1/collection/{collectionId}/product/{productId}":{"get":{"summary":"Get Product","tags":["Products"],"description":"Get a detailed product by ID","parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"collectionId","required":true},{"schema":{"format":"uuid","type":"string"},"in":"path","name":"productId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"priceRange":{"type":"object","properties":{"minVariantPrice":{"type":"number"},"maxVariantPrice":{"type":"number"}},"required":["minVariantPrice","maxVariantPrice"]},"options":{"type":"array","items":{"type":"object","properties":{"name":{"enum":["size","color"]},"values":{"type":"array","items":{"type":"object","properties":{"title":{"type":"string"},"colorCode":{"type":"string"},"colorCode2":{"type":"string"}},"required":["title"]}}},"required":["name","values"]}},"featuredImage":{"type":"object","properties":{"url":{"type":"string"},"width":{"type":"number"},"height":{"type":"number"}},"required":["url"]},"variants":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"price":{"type":"number"},"isAvailableForSale":{"type":"boolean"},"options":{"type":"array","items":{"type":"object","properties":{"name":{"enum":["size","color"]},"value":{"type":"object","properties":{"title":{"type":"string"},"colorCode":{"type":"string"},"colorCode2":{"type":"string"}},"required":["title"]}},"required":["name","value"]}},"images":{"type":"array","items":{"type":"object","properties":{"url":{"type":"string"},"width":{"type":"number"},"height":{"type":"number"}},"required":["url"]}}},"required":["id","title","price","isAvailableForSale","options","images"]}}},"required":["id","title","description","priceRange","options","featuredImage","variants"]}}}},"4XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}},"5XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}}}}},"/api/ext/v1/people/get":{"post":{"summary":"List People","tags":["People"],"description":"List people in a collection","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"emails":{"description":"Emails of people to get. Leave empty to ignore","type":"array","items":{"type":"string"}},"collectionId":{"type":"string"}},"required":["collectionId"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"id":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"balance":{"type":"number"},"birthDate":{"format":"date-time","type":"string","nullable":true},"startDate":{"format":"date-time","type":"string","nullable":true},"externalId":{"type":"string","nullable":true}},"required":["id","firstName","lastName","email","balance"]}}}}},"4XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}},"5XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}}}}},"/api/ext/v1/people":{"post":{"summary":"Create People","tags":["People"],"description":"Create people","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"people":{"type":"array","items":{"type":"object","properties":{"firstName":{"minLength":1,"type":"string"},"lastName":{"minLength":1,"type":"string"},"email":{"minLength":1,"type":"string"},"birthDate":{"type":"string"},"startDate":{"type":"string"},"externalId":{"type":"string"},"location":{"type":"string"},"department":{"type":"string"}},"required":["firstName","lastName","email"]}},"collectionId":{"type":"string"},"amount":{"type":"number"}},"required":["people","collectionId"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"id":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"}},"required":["id","firstName","lastName","email"]}}}}},"4XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}},"5XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}}}},"delete":{"summary":"Delete People","tags":["People"],"description":"Delete people","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"collectionId":{"type":"string"},"emails":{"type":"array","items":{"type":"string"}}},"required":["collectionId","emails"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"}},"required":["success"],"nullable":true}}}},"4XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}},"5XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}}}}},"/api/ext/v1/people/reward":{"post":{"summary":"Reward Credits/Gifts","tags":["People"],"description":"Reward your people with credits or gifts","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"collectionId":{"type":"string"},"emails":{"type":"array","items":{"type":"string"}},"amount":{"type":"number"}},"required":["collectionId","emails","amount"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"}},"required":["success"],"nullable":true}}}},"4XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}},"5XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}}}}},"/api/ext/v1/people/withdraw":{"post":{"summary":"Withdraw Credits/Gifts","tags":["People"],"description":"Withdraw credits or gifts from your people","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"collectionId":{"type":"string"},"emails":{"type":"array","items":{"type":"string"}},"amount":{"type":"number"}},"required":["collectionId","emails","amount"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"}},"required":["success"],"nullable":true}}}},"4XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}},"5XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}}}}},"/api/ext/v1/collection/{collectionId}/orders":{"post":{"summary":"Place Order","tags":["Orders"],"description":"Place a new order","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"user":{"type":"object","properties":{"firstName":{"minLength":1,"type":"string"},"lastName":{"minLength":1,"type":"string"},"email":{"minLength":1,"type":"string"},"birthDate":{"type":"string"},"startDate":{"type":"string"},"externalId":{"type":"string"},"location":{"type":"string"},"department":{"type":"string"}},"required":["firstName","lastName","email"]},"orderItems":{"type":"array","items":{"type":"object","properties":{"variantId":{"type":"string"},"quantity":{"type":"number"}},"required":["variantId","quantity"]}},"customAttributes":{"type":"array","items":{"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string"}},"required":["key","value"]}},"address":{"type":"object","properties":{"address1":{"type":"string"},"address2":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"countryCode":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"phone":{"type":"string"},"province":{"type":"string"},"provinceCode":{"type":"string"},"zip":{"type":"string"},"email":{"type":"string"}},"required":["address1","address2","city","country","countryCode","firstName","lastName","phone","province","provinceCode","zip","email"]},"note":{"type":"string"}},"required":["user","orderItems","address"]}}},"required":true},"parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"collectionId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"order":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]}},"required":["order"]}}}},"4XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}},"5XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}}}}},"/api/ext/v1/collection/{collectionId}/orders/get":{"post":{"summary":"List Orders","tags":["Orders"],"description":"List all orders by collection ID","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"filter":{"type":"object","properties":{"userIds":{"minItems":1,"type":"array","items":{"format":"uuid","type":"string"}},"dateRange":{"type":"object","properties":{"start":{"format":"date-time","type":"string"},"end":{"format":"date-time","type":"string"}},"required":["start","end"]}}}},"required":["filter"]}}},"required":true},"parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"collectionId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"additionalProperties":false,"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"createdAt":{"format":"date-time","type":"string"},"orderNumber":{"type":"string","nullable":true},"user":{"type":"object","properties":{"externalId":{"type":"string","nullable":true},"email":{"type":"string"}},"required":["email"]},"orderLineItems":{"type":"array","items":{"type":"object","properties":{"title":{"type":"string"},"quantity":{"type":"number"}},"required":["title","quantity"]}}},"required":["createdAt","user","orderLineItems"]}},"count":{"type":"number"}},"required":["data","count"]}}}},"4XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}},"5XX":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"errorCode":{"type":"string"},"error":{},"statusCode":{"type":"number"}},"required":["message","errorCode","statusCode"]}}}}}}}},"servers":[{"url":"http://localhost:8080","description":"Covver Local Server"},{"url":"https://dev-api.covver.io","description":"Covver Staging Server"},{"url":"https://api.covver.io","description":"Covver Production Server"}],"security":[{"BearerAuth":[]}],"tags":[{"name":"Auth","description":"Authentication endpoints"},{"name":"Products","description":"Product endpoints"},{"name":"People","description":"People endpoints"},{"name":"Orders","description":"Orders endpoints"},{"name":"Reports","description":"Report endpoints"}],"externalDocs":{"url":"https://swagger.io","description":"Find more info here"}}